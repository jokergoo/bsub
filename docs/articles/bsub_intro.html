<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Send R code/R scripts/shell commands to LSF cluster • bsub</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Send R code/R scripts/shell commands to LSF cluster">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bsub</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bsub_intro.html">Send R code/R scripts/shell commands to LSF cluster</a>
    </li>
    <li>
      <a href="../articles/dkfz_odcf.html">Use bsub package on the DKFZ ODCF cluster</a>
    </li>
    <li>
      <a href="../articles/other_insititute.html">Configure bsub package for other LSF institutes</a>
    </li>
    <li>
      <a href="../articles/two_ssh.html">What if you need to establish two ssh connections to reach the submission node</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jokergoo/bsub">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Send R code/R scripts/shell commands to LSF cluster</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jokergoo/bsub/blob/master/vignettes/bsub_intro.Rmd"><code>vignettes/bsub_intro.Rmd</code></a></small>
      <div class="hidden name"><code>bsub_intro.Rmd</code></div>

    </div>

    
    
<p><strong>Author</strong>: Zuguang Gu ( <a href="mailto:z.gu@dkfz.de">z.gu@dkfz.de</a> )</p>
<p><strong>Date</strong>: 2019-12-23</p>
<hr>
<p>Load the library:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(bsub)</a></code></pre></div>
<pre><code>## configure for user 'guz' on node odcf-worker01, odcf-cn34u03s10, odcf-cn34u03s12.</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(GetoptLong)</a></code></pre></div>
<p><strong>For DFKZ ODCF users: The <em>bsub</em> package works on the submission nodes, the computing nodes and the Rstudio node.</strong></p>
<p><strong>If the current node is not the submission node, a connection via ssh is automatically established. You might be asked to enter password for the connection.</strong></p>
<div id="send-r-code" class="section level2">
<h2 class="hasAnchor">
<a href="#send-r-code" class="anchor"></a>Send R code</h2>
<p>The code chunk should be embraced by <code>{...}</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">memory =</span> <span class="dv">10</span>, <span class="dt">hour =</span> <span class="dv">10</span>, <span class="dt">core =</span> <span class="dv">4</span>, </a>
<a class="sourceLine" id="cb4-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">    fit =<span class="st"> </span>NMF<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/NMF/man/nmf.html">nmf</a></span>(...)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">    <span class="co"># you better save `fit` into a permanent file</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5">    <span class="kw"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span>(fit, <span class="dt">file =</span> <span class="st">"fit.rds"</span>)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">})</a></code></pre></div>
<p>In following examples, we use <code><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep(5)</a></code> to simulate a chunk of code which runs for a short time.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">})</a></code></pre></div>
<pre><code>## - job: 'R_code_c3481a47' from a code chunk
## bsub -J 'R_code_c3481a47' -W '1:00' -n 1 -R 'rusage[mem=1024]' -o '/home/guz/.bsub_temp/R_code_c3481a47.out' '/home/guz/.bsub_temp/R_code_c3481a47_5430460918ab.sh'</code></pre>
<pre><code>## [1] "2524400"</code></pre>
<p>The value returned by <code><a href="../reference/bsub_chunk.html">bsub_chunk()</a></code> is the job ID from LSF cluster.</p>
<div id="job-settings" class="section level3">
<h3 class="hasAnchor">
<a href="#job-settings" class="anchor"></a>Job settings</h3>
<p>Set job name, memory, running time and number of cores:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">memory =</span> <span class="dv">10</span>, <span class="dt">hour =</span> <span class="dv">10</span>, <span class="dt">core =</span> <span class="dv">4</span>, </a>
<a class="sourceLine" id="cb8-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">})</a></code></pre></div>
<pre><code>## - job: 'example' from a code chunk
## bsub -J 'example' -W '10:00' -n 4 -R 'rusage[mem=10240]' -o '/home/guz/.bsub_temp/example.out' '/home/guz/.bsub_temp/example_5430487f1f0a.sh'</code></pre>
<pre><code>## [1] "2524401"</code></pre>
<p>If <code>name</code> is not specified, an internal name calculated by <code><a href="https://rdrr.io/pkg/digest/man/digest.html">digest::digest()</a></code> on the chunk is automatically assigned. The unit of <code>memory</code> is GB.</p>
</div>
<div id="r-version" class="section level3">
<h3 class="hasAnchor">
<a href="#r-version" class="anchor"></a>R version</h3>
<p>The R version can be specified by <code>R_version</code> argument.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">R_version =</span> <span class="st">"3.6.0"</span>,</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">})</a></code></pre></div>
<p><code>R_version</code> can be set as a global parameter:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">bsub_opt<span class="op">$</span>R_version =<span class="st"> "3.6.0"</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, </a>
<a class="sourceLine" id="cb12-3" data-line-number="3">{</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">})</a></code></pre></div>
<p>The R version is used for finding proper <code>Rscript</code> binary. More generally, <code>bsub_opt$call_Rscript</code> is set as a function which returns the calling of <code>Rscript</code>. Also you can initialize other bash environment variables there. The default is:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="cf">function</span>(version) {</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">    <span class="kw"><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq</a></span>(<span class="st">"module load gcc/7.2.0; module load java/1.8.0_131; module load R/@{version}; Rscript"</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">}</a></code></pre></div>
<p>where <code>version</code> is the value set in <code>bsub_opt$R_version</code>. <code><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq()</a></code> is from <em>GetoptLong</em> package which does <a href="https://en.wikipedia.org/wiki/String_interpolation">variable interpolation</a>.</p>
<p>The module loading for <code>gcc/7.2.0</code> and <code>java/1.8.0_131</code> ensures that R packages depending on specific C/Java libraries can be successfully loaded.</p>
</div>
<div id="bash-environment" class="section level3">
<h3 class="hasAnchor">
<a href="#bash-environment" class="anchor"></a>Bash environment</h3>
<p>In previous example, we load the <code>gcc/7.2.0</code> and <code>java/1.8.0_131</code> modules when loading R. These bash-level module initialization can also be set by <code>sh_head</code> which adds shell commands as header in the bash script that is used for job submission. E.g. to load R 3.6.0, we can do the other way:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">bsub_opt<span class="op">$</span>call_Rscript =<span class="st"> </span><span class="cf">function</span>(version) <span class="kw"><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq</a></span>(<span class="st">"module load R/@{version}; Rscript"</span>)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">sh_head =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"module load gcc/7.2.0"</span>, <span class="st">"module load java/1.8.0_131"</span>),</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">{</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">})</a></code></pre></div>
<p>Or set <code>sh_head</code> as a global option:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">bsub_opt<span class="op">$</span>call_Rscript =<span class="st"> </span><span class="cf">function</span>(version) <span class="kw"><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq</a></span>(<span class="st">"module load R/@{version}; Rscript"</span>)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">bsub_opt<span class="op">$</span>sh_head =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"module load gcc/7.2.0"</span>, <span class="st">"module load java/1.8.0_131"</span>)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">{</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb15-6" data-line-number="6">})</a></code></pre></div>
<p>One usage of this functionality is to load <code>pandoc</code> module if the <code>rmarkdown</code> is used in the code chunk:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">sh_head =</span> <span class="st">"module load pandoc/2.2.1"</span>,</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rmarkdown)</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/pkg/rmarkdown/man/render.html">render</a></span>(...)</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">})</a></code></pre></div>
</div>
<div id="load-other-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#load-other-packages" class="anchor"></a>Load other packages</h3>
<p>The packages that are needed can be directly added in the code chunk:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(package1)</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(package2)</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">})</a></code></pre></div>
<p>Or assign by <code>packages</code> argument:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">packages =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"package1"</span>, <span class="st">"package2"</span>),</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">})</a></code></pre></div>
<p>Or set it as a global parameter:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">bsub_opt<span class="op">$</span>packages =<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"package1"</span>, <span class="st">"package2"</span>)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">{</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">})</a></code></pre></div>
</div>
<div id="other-r-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#other-r-variables" class="anchor"></a>Other R variables</h3>
<p>The R variables that are defined outside the code chunk and need to be used inside the code chunk can by specified by <code>variables</code> argument:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">foo =<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">variables =</span> <span class="st">"foo"</span>,</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">{ </a>
<a class="sourceLine" id="cb20-4" data-line-number="4">    bar =<span class="st"> </span>foo</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb20-6" data-line-number="6">})</a></code></pre></div>
</div>
<div id="the-workspace-image" class="section level3">
<h3 class="hasAnchor">
<a href="#the-workspace-image" class="anchor"></a>The workspace image</h3>
<p>If you have too many external variables that are used in the code chunk or they are used in multiple jobs, you can directly save the workspace or the objects as an image and specify the <code>image</code> argument:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/save.html">save.image</a></span>(<span class="dt">file =</span> <span class="st">"/path/foo.RData"</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="co"># or </span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="co"># save(var1, var2, ..., file = "...")</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">image =</span> <span class="st">"/path/foo.RData"</span>,</a>
<a class="sourceLine" id="cb21-5" data-line-number="5">{ </a>
<a class="sourceLine" id="cb21-6" data-line-number="6">    ...</a>
<a class="sourceLine" id="cb21-7" data-line-number="7">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb21-8" data-line-number="8">})</a></code></pre></div>
<p>Or set the image file as a global parameter:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/save.html">save.image</a></span>(<span class="dt">file =</span> <span class="st">"/path/foo.RData"</span>)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">bsub_opt<span class="op">$</span>image =<span class="st"> "/path/foo.RData"</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb22-4" data-line-number="4">{ </a>
<a class="sourceLine" id="cb22-5" data-line-number="5">    ...</a>
<a class="sourceLine" id="cb22-6" data-line-number="6">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb22-7" data-line-number="7">})</a></code></pre></div>
<p>When <code>image</code> is set to <code>TRUE</code>, all variables in <code>.GlobalEnv</code> will be saved into a temporary file and all attached packages will be recorded. The temporary files will be removed after the job is finished.</p>
<p>Absolute paths should be used instead of relative paths.</p>
</div>
<div id="the-working-directory" class="section level3">
<h3 class="hasAnchor">
<a href="#the-working-directory" class="anchor"></a>The working directory</h3>
<p>If the code chunk replies on the working directory, it can be specified by <code>wd</code> argument:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">wd =</span> <span class="st">"/path"</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">{ </a>
<a class="sourceLine" id="cb23-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">})</a></code></pre></div>
<p>Or set it as a global parameter:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">bsub_opt<span class="op">$</span>wd =<span class="st"> "/path"</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">{ </a>
<a class="sourceLine" id="cb24-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb24-5" data-line-number="5">})</a></code></pre></div>
<p>Absolute path should be used.</p>
</div>
<div id="retrieve-the-last-variable" class="section level3">
<h3 class="hasAnchor">
<a href="#retrieve-the-last-variable" class="anchor"></a>Retrieve the last variable</h3>
<p>The last variable in the code chunk can be saved by setting <code>save_var = TRUE</code> and retrieved back by <code><a href="../reference/retrieve_var.html">retrieve_var()</a></code> by specifying the job name. Since the variable is looked up by the job name, there should be no job with the same name submitted before retrieving the variable.</p>
<p><code><a href="../reference/retrieve_var.html">retrieve_var()</a></code> waits until the job is finished.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example2"</span>, <span class="dt">save_var =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">    <span class="dv">1</span><span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5">})</a></code></pre></div>
<pre><code>## - job: 'example2' from a code chunk
## bsub -J 'example2' -W '1:00' -n 1 -R 'rusage[mem=1024]' -o '/home/guz/.bsub_temp/example2.out' '/home/guz/.bsub_temp/example2_543076862427.sh'</code></pre>
<pre><code>## [1] "2524402"</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="../reference/retrieve_var.html">retrieve_var</a></span>(<span class="st">"example2"</span>)</a></code></pre></div>
<pre><code>## job is running or pending, retry in 30 seconds.</code></pre>
<pre><code>## [1] 2</code></pre>
<p>However, it is not suggested to directly retrieve the returned value from the code chunk. Better choice is to save the variable into permanent file in the code chunk, E.g.:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, </a>
<a class="sourceLine" id="cb31-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">    ...</a>
<a class="sourceLine" id="cb31-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/save.html">save</a></span>(...)</a>
<a class="sourceLine" id="cb31-5" data-line-number="5">    <span class="co"># or</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6">    <span class="kw"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span>(...)</a>
<a class="sourceLine" id="cb31-7" data-line-number="7">})</a></code></pre></div>
</div>
<div id="rerun-the-job" class="section level3">
<h3 class="hasAnchor">
<a href="#rerun-the-job" class="anchor"></a>Rerun the job</h3>
<p>There is a flag file to mark whether the job was successfully finished or not. If the job has been successfully done, the job with the same name will be skipped. <code>enforce</code> argument controls how to rerun the jobs with the same names. If it is set to <code>TRUE</code>, jobs will be rerun no matter they are done or not.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">enforce =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb32-2" data-line-number="2">{ </a>
<a class="sourceLine" id="cb32-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb32-4" data-line-number="4">})</a></code></pre></div>
<pre><code>## - job: 'example' from a code chunk
## Job 'example' is already done, skip.</code></pre>
<p><code>enforce</code> can be set as a global parameter:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">bsub_opt<span class="op">$</span>enforce =<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">{ </a>
<a class="sourceLine" id="cb34-4" data-line-number="4">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb34-5" data-line-number="5">})</a></code></pre></div>
</div>
<div id="job-dependency" class="section level3">
<h3 class="hasAnchor">
<a href="#job-dependency" class="anchor"></a>Job dependency</h3>
<p>Since <code><a href="../reference/bsub_chunk.html">bsub_chunk()</a></code> returns the job ID, it is can be used to specify the dependency in other jobs. The value for <code>dependency</code> can be a vector of job IDs.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">job1 =<span class="st"> </span><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example1"</span>,</a>
<a class="sourceLine" id="cb35-2" data-line-number="2">{ </a>
<a class="sourceLine" id="cb35-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb35-4" data-line-number="4">})</a>
<a class="sourceLine" id="cb35-5" data-line-number="5"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example2"</span>, <span class="dt">dependency =</span> job1,</a>
<a class="sourceLine" id="cb35-6" data-line-number="6">{ </a>
<a class="sourceLine" id="cb35-7" data-line-number="7">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb35-8" data-line-number="8">})</a></code></pre></div>
</div>
<div id="temporary-and-output-directory" class="section level3">
<h3 class="hasAnchor">
<a href="#temporary-and-output-directory" class="anchor"></a>Temporary and output directory</h3>
<p><code><a href="../reference/bsub_chunk.html">bsub_chunk()</a></code> has two arguments <code>temp_dir</code> and <code>output_dir</code>. <code>temp_dir</code> is used for the temporary R script and sh files. <code>output_dir</code> is used for the flag files and the output files from LSF cluster.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">temp_dir =</span> ..., <span class="dt">output_dir =</span> ...,</a>
<a class="sourceLine" id="cb36-2" data-line-number="2">{ </a>
<a class="sourceLine" id="cb36-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb36-4" data-line-number="4">})</a></code></pre></div>
<p>They can be set as global parameters. The value of <code>output_dir</code> is by default set as the same as <code>temp_dir</code>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">bsub_opt<span class="op">$</span>temp_dir =<span class="st"> </span>...</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">bsub_opt<span class="op">$</span>output_dir =<span class="st"> </span>...</a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb37-4" data-line-number="4">{ </a>
<a class="sourceLine" id="cb37-5" data-line-number="5">    <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb37-6" data-line-number="6">})</a></code></pre></div>
<p>To remove temporary files in <code>temp_dir</code>, run <code><a href="../reference/clear_temp_dir.html">clear_temp_dir()</a></code> function.</p>
</div>
<div id="run-code-chunk-from-a-script" class="section level3">
<h3 class="hasAnchor">
<a href="#run-code-chunk-from-a-script" class="anchor"></a>Run code chunk from a script</h3>
<p>You can run code chunk from a script by specifying the starting line number and the ending line number. The R script is specified by <code>script</code> argument, the starting line number and the ending line number are specified by <code>start</code> and <code>end</code> arguments. (Note this functionality has not been tested yet.)</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb38-2" data-line-number="2">    <span class="dt">script =</span> <span class="st">"/path/foo.R"</span>,</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">    <span class="dt">start =</span> <span class="dv">10</span>, <span class="dt">end =</span> <span class="dv">20</span>, ...)</a></code></pre></div>
<p>Assume you are editing <code>foo.R</code> very offen and the line numbers that you want to run change from time to time. You can add tags in the R script and specifying <code>start</code> and <code>end</code> by those tags. In following example which is the source code of <code>foo.R</code>, we add tags for the code chunk we want to run:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">...</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="co"># BSUB_START</span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3">you code chunk here</a>
<a class="sourceLine" id="cb39-4" data-line-number="4"><span class="co"># BSUB_</span><span class="re">END</span></a>
<a class="sourceLine" id="cb39-5" data-line-number="5">...</a></code></pre></div>
<p>Then you can specify <code>start</code> and <code>end</code> by regular expressions to match them:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>,</a>
<a class="sourceLine" id="cb40-2" data-line-number="2">    <span class="dt">script =</span> <span class="st">"/path/foo.R"</span>,</a>
<a class="sourceLine" id="cb40-3" data-line-number="3">    <span class="dt">start =</span> <span class="st">"^# BSUB_START"</span>, </a>
<a class="sourceLine" id="cb40-4" data-line-number="4">    <span class="dt">end =</span> <span class="st">"^# BSUB_END"</span>, ...)</a></code></pre></div>
</div>
<div id="run-jobs-locally" class="section level3">
<h3 class="hasAnchor">
<a href="#run-jobs-locally" class="anchor"></a>Run jobs locally</h3>
<p>Setting <code>local = TRUE</code> directly runs the code chunk in the same R session.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="st">"example"</span>, <span class="dt">local =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb41-2" data-line-number="2">{ </a>
<a class="sourceLine" id="cb41-3" data-line-number="3">    <span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="st">"blablabla...</span><span class="ch">\n</span><span class="st">"</span>)</a>
<a class="sourceLine" id="cb41-4" data-line-number="4">})</a></code></pre></div>
<pre><code>## - job: 'example' from a code chunk
## bash /home/guz/.bsub_temp/example_54301b029c1c.sh</code></pre>
</div>
</div>
<div id="send-r-script" class="section level2">
<h2 class="hasAnchor">
<a href="#send-r-script" class="anchor"></a>Send R script</h2>
<p><code><a href="../reference/bsub_script.html">bsub_script()</a></code> submits the job from R scripts. The major arguments are the same as in <code><a href="../reference/bsub_chunk.html">bsub_chunk()</a></code>.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_script.html">bsub_script</a></span>(<span class="st">"/path/foo.R"</span>, <span class="dt">name =</span> ..., <span class="dt">memory =</span> ..., <span class="dt">core =</span> ..., ...)</a></code></pre></div>
<p>If the R script needs command-line arguments, they can be specified by <code>argv</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_script.html">bsub_script</a></span>(<span class="st">"/path/foo.R"</span>, <span class="dt">argv =</span> <span class="st">"--a 1 --b 3"</span>, ...)</a></code></pre></div>
<p>When you have a list of jobs with the same argument names but with different argument values, you can construct <code>argv</code> by <code><a href="https://rdrr.io/pkg/glue/man/glue.html">glue::glue()</a></code> or <code><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">GetoptLong::qq()</a></code> to construct the <code>argv</code> string:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(GetoptLong)</a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="cf">for</span>(a <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) {</a>
<a class="sourceLine" id="cb45-3" data-line-number="3">    <span class="cf">for</span>(b <span class="cf">in</span> <span class="dv">11</span><span class="op">:</span><span class="dv">20</span>) {</a>
<a class="sourceLine" id="cb45-4" data-line-number="4">        <span class="kw"><a href="../reference/bsub_script.html">bsub_script</a></span>(<span class="st">"/path/foo.R"</span>, <span class="dt">argv =</span> <span class="kw"><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq</a></span>(<span class="st">"-a @{a} --b @{b}"</span>), ...)</a>
<a class="sourceLine" id="cb45-5" data-line-number="5">    }</a>
<a class="sourceLine" id="cb45-6" data-line-number="6">}</a></code></pre></div>
<p>The command-line arguments can also specified as arguments of <code><a href="../reference/bsub_script.html">bsub_script()</a></code>, but with <code>.</code> prefix.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_script.html">bsub_script</a></span>(<span class="st">"/path/foo.R"</span>, <span class="dt">.a =</span> <span class="dv">1</span>, <span class="dt">.b =</span> <span class="dv">3</span>, ...)</a></code></pre></div>
<p>Then for the same example previously for submitting a list of jobs, it can be written as:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="cf">for</span>(a <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) {</a>
<a class="sourceLine" id="cb47-2" data-line-number="2">    <span class="cf">for</span>(b <span class="cf">in</span> <span class="dv">11</span><span class="op">:</span><span class="dv">20</span>) {</a>
<a class="sourceLine" id="cb47-3" data-line-number="3">        <span class="kw"><a href="../reference/bsub_script.html">bsub_script</a></span>(<span class="st">"/path/foo.R"</span>, <span class="dt">.a =</span> a, <span class="dt">.b =</span> b, ...)</a>
<a class="sourceLine" id="cb47-4" data-line-number="4">    }</a>
<a class="sourceLine" id="cb47-5" data-line-number="5">}</a></code></pre></div>
<p>The R scripts should be used with the absolute paths.</p>
<p>Note the bash environment can be initialized by setting a <code>sh_head</code>.</p>
</div>
<div id="send-other-shell-commands" class="section level2">
<h2 class="hasAnchor">
<a href="#send-other-shell-commands" class="anchor"></a>Send other shell commands</h2>
<p><code><a href="../reference/bsub_cmd.html">bsub_cmd()</a></code>submits shell commands. Basically it is similar as <code><a href="../reference/bsub_script.html">bsub_script()</a></code>:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw"><a href="../reference/bsub_cmd.html">bsub_cmd</a></span>(<span class="st">"samtools sort ..."</span>, <span class="dt">name =</span> ..., <span class="dt">memory =</span> ..., <span class="dt">core =</span> ..., ...)</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="kw"><a href="../reference/bsub_cmd.html">bsub_cmd</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"cmd1"</span>, <span class="st">"cmd2"</span>, ...), <span class="dt">name =</span> ..., <span class="dt">memory =</span> ..., <span class="dt">core =</span> ..., ...)</a></code></pre></div>
<p>The binary and the arguments should all be set in the first argument of <code><a href="../reference/bsub_cmd.html">bsub_cmd()</a></code>. Remember to use <code><a href="https://rdrr.io/pkg/glue/man/glue.html">glue::glue()</a></code> or <code><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">GetoptLong::qq()</a></code> to construct the commands if they contain variable arguments, e.g:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="cf">for</span>(bam <span class="cf">in</span> bam_file_list) {</a>
<a class="sourceLine" id="cb49-2" data-line-number="2">    <span class="kw"><a href="../reference/bsub_cmd.html">bsub_cmd</a></span>(<span class="kw"><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq</a></span>(<span class="st">"samtools sort @{bam} ... "</span>), <span class="dt">name =</span> <span class="kw"><a href="https://rdrr.io/pkg/GetoptLong/man/qq.html">qq</a></span>(<span class="st">"sort_@{basename(bam)}"</span>), </a>
<a class="sourceLine" id="cb49-3" data-line-number="3">        <span class="dt">memory =</span> ..., <span class="dt">core =</span> ..., ...)</a>
<a class="sourceLine" id="cb49-4" data-line-number="4">}</a></code></pre></div>
</div>
<div id="job-summary" class="section level2">
<h2 class="hasAnchor">
<a href="#job-summary" class="anchor"></a>Job Summary</h2>
<p><code><a href="../reference/bjobs.html">bjobs()</a></code> or just entering <code>bjobs</code> gives a summary of running jobs. Job status (by default is <code>RUN</code> and <code>PEND</code>) is controlled by <code>status</code> argument. Number of most recent jobs is controlled by <code>max</code> argument. Filtering on the job name is controlled by <code>filter</code> argument.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb50-2" data-line-number="2">    <span class="kw"><a href="../reference/bsub_chunk.html">bsub_chunk</a></span>(<span class="dt">name =</span> <span class="kw"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"example_"</span>, i),</a>
<a class="sourceLine" id="cb50-3" data-line-number="3">    { </a>
<a class="sourceLine" id="cb50-4" data-line-number="4">        <span class="kw"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb50-5" data-line-number="5">    })</a>
<a class="sourceLine" id="cb50-6" data-line-number="6">}</a></code></pre></div>
<pre><code>## - job: 'example_1' from a code chunk
## bsub -J 'example_1' -W '1:00' -n 1 -R 'rusage[mem=1024]' -o '/home/guz/.bsub_temp/example_1.out' '/home/guz/.bsub_temp/example_1_5430181c6e4b.sh' 
## - job: 'example_2' from a code chunk
## bsub -J 'example_2' -W '1:00' -n 1 -R 'rusage[mem=1024]' -o '/home/guz/.bsub_temp/example_2.out' '/home/guz/.bsub_temp/example_2_54309fbe11d.sh' 
## - job: 'example_3' from a code chunk
## bsub -J 'example_3' -W '1:00' -n 1 -R 'rusage[mem=1024]' -o '/home/guz/.bsub_temp/example_3.out' '/home/guz/.bsub_temp/example_3_5430532c72d1.sh' 
## - job: 'example_4' from a code chunk
## bsub -J 'example_4' -W '1:00' -n 1 -R 'rusage[mem=1024]' -o '/home/guz/.bsub_temp/example_4.out' '/home/guz/.bsub_temp/example_4_5430255de441.sh'</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">bjobs</a></code></pre></div>
<pre><code>## ─────────────────────────────────────────────────────────────────────────────────── 
##  JOBID   STAT JOB_NAME  SUBMIT_TIME         TIME_PASSED TIME_LEFT SLOTS MEM MAX_MEM
##  2524403 PEND example_1 2019-12-23 21:40:09 -           -         -     -   -      
##  2524404 PEND example_2 2019-12-23 21:40:09 -           -         -     -   -      
##  2524405 PEND example_3 2019-12-23 21:40:09 -           -         -     -   -      
##  2524406 PEND example_4 2019-12-23 21:40:10 -           -         -     -   -      
## ─────────────────────────────────────────────────────────────────────────────────── 
##  526 DONE jobs, 10 EXIT jobs, 4 PEND jobs within one week.
##  You can have more controls by `bjobs(status = ..., max = ..., filter = ...)`.</code></pre>
<p>There is one additional column <code>RECENT</code> in the summary table which shows the order of the jobs with the same job name. The most recent job has the value 1.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw"><a href="../reference/bjobs.html">bjobs</a></span>(<span class="dt">status =</span> <span class="st">"all"</span>, <span class="dt">filter =</span> <span class="st">"example"</span>)</a></code></pre></div>
<pre><code>## ─────────────────────────────────────────────────────────────────────────────────────────── 
##  JOBID   STAT JOB_NAME   RECENT SUBMIT_TIME         TIME_PASSED TIME_LEFT SLOTS MEM MAX_MEM
##  2417719 DONE example    13     2019-12-16 23:06:01 0:00        -         4     -   12Mb   
##  2417720 DONE example2   13     2019-12-16 23:06:01 0:00        -         1     -   41Mb   
##  2417721 DONE example_1  12     2019-12-16 23:06:43 0:00        -         1     -   37Mb   
##  2417722 DONE example_2  12     2019-12-16 23:06:43 0:00        -         1     -   18Mb   
##  2417723 DONE example_3  12     2019-12-16 23:06:43 0:00        -         1     -   16Mb   
##  2417724 DONE example_4  12     2019-12-16 23:06:43 0:00        -         1     -   17Mb   
##  2419204 DONE example    12     2019-12-17 13:31:28 0:00        -         4     -   41Mb   
##  2419205 DONE example2   12     2019-12-17 13:31:29 0:00        -         1     -   41Mb   
##  2419209 DONE example_1  11     2019-12-17 13:32:10 0:00        -         1     -   37Mb   
##  2419210 DONE example_2  11     2019-12-17 13:32:10 0:00        -         1     -   7Mb    
##  2419211 DONE example_3  11     2019-12-17 13:32:10 0:00        -         1     -   8Mb    
##  2419212 DONE example_4  11     2019-12-17 13:32:11 0:00        -         1     -   8Mb    
##  2419214 DONE example    11     2019-12-17 13:36:33 0:00        -         4     -   8Mb    
##  2419215 DONE example2   11     2019-12-17 13:36:34 0:00        -         1     -   37Mb   
##  2419216 DONE example_1  10     2019-12-17 13:37:15 0:00        -         1     -   41Mb   
##  2419217 DONE example_2  10     2019-12-17 13:37:15 0:00        -         1     -   41Mb   
##  2419218 DONE example_3  10     2019-12-17 13:37:16 0:00        -         1     -   41Mb   
##  2419219 DONE example_4  10     2019-12-17 13:37:16 0:00        -         1     -   41Mb   
##  2419224 DONE example    10     2019-12-17 13:39:54 0:00        -         4     -   37Mb   
##  2419225 DONE example2   10     2019-12-17 13:39:55 0:00        -         1     -   37Mb   
##  2419227 DONE example_1   9     2019-12-17 13:40:36 0:00        -         1     -   37Mb   
##  2419228 DONE example_2   9     2019-12-17 13:40:36 0:00        -         1     -   37Mb   
##  2419229 DONE example_3   9     2019-12-17 13:40:36 0:00        -         1     -   37Mb   
##  2419230 DONE example_4   9     2019-12-17 13:40:37 0:00        -         1     -   37Mb   
##  2419232 DONE example     9     2019-12-17 13:41:29 0:00        -         4     -   37Mb   
##  2419233 DONE example2    9     2019-12-17 13:41:29 0:00        -         1     -   39Mb   
##  2419234 DONE example_1   8     2019-12-17 13:42:11 0:00        -         1     -   33Mb   
##  2419235 DONE example_2   8     2019-12-17 13:42:11 0:00        -         1     -   33Mb   
##  2419236 DONE example_3   8     2019-12-17 13:42:11 0:00        -         1     -   33Mb   
##  2419237 DONE example_4   8     2019-12-17 13:42:12 0:00        -         1     -   33Mb   
##  2419239 DONE example     8     2019-12-17 13:44:10 0:00        -         4     -   41Mb   
##  2419240 DONE example2    8     2019-12-17 13:44:11 0:00        -         1     -   41Mb   
##  2419241 DONE example_1   7     2019-12-17 13:44:52 0:00        -         1     -   41Mb   
##  2419242 DONE example_2   7     2019-12-17 13:44:52 0:00        -         1     -   41Mb   
##  2419243 DONE example_3   7     2019-12-17 13:44:52 0:00        -         1     -   41Mb   
##  2419244 DONE example_4   7     2019-12-17 13:44:53 0:00        -         1     -   41Mb   
##  2438764 EXIT example     7     2019-12-18 19:18:06 -           -         0     -   -      
##  2438765 DONE example2    7     2019-12-18 19:18:07 0:00        -         1     -   37Mb   
##  2438766 DONE example_1   6     2019-12-18 19:18:48 0:00        -         1     -   37Mb   
##  2438767 DONE example_2   6     2019-12-18 19:18:49 0:00        -         1     -   37Mb   
##  2438768 DONE example_3   6     2019-12-18 19:18:49 0:00        -         1     -   37Mb   
##  2438769 DONE example_4   6     2019-12-18 19:18:49 0:00        -         1     -   15Mb   
##  2438784 DONE example     6     2019-12-18 19:43:34 0:00        -         4     -   8Mb    
##  2438785 DONE example2    6     2019-12-18 19:43:34 0:00        -         1     -   41Mb   
##  2438786 DONE example_1   5     2019-12-18 19:44:16 0:00        -         1     -   37Mb   
##  2438787 DONE example_2   5     2019-12-18 19:44:16 0:00        -         1     -   37Mb   
##  2438788 DONE example_3   5     2019-12-18 19:44:16 0:00        -         1     -   12Mb   
##  2438789 DONE example_4   5     2019-12-18 19:44:17 0:00        -         1     -   12Mb   
##  2438791 DONE example     5     2019-12-18 19:47:24 0:00        -         4     -   28Mb   
##  2438792 DONE example2    5     2019-12-18 19:47:24 0:00        -         1     -   41Mb   
##  2438793 DONE example_1   4     2019-12-18 19:48:06 0:00        -         1     -   41Mb   
##  2438794 DONE example_2   4     2019-12-18 19:48:06 0:00        -         1     -   41Mb   
##  2438795 DONE example_3   4     2019-12-18 19:48:07 0:00        -         1     -   41Mb   
##  2438796 DONE example_4   4     2019-12-18 19:48:07 0:00        -         1     -   41Mb   
##  2439787 DONE example_01  2     2019-12-18 22:01:11 0:00        -         1     -   41Mb   
##  2439788 DONE example_02  3     2019-12-18 22:01:11 0:00        -         1     -   41Mb   
##  2439789 DONE example_02  2     2019-12-18 22:01:12 0:00        -         1     -   41Mb   
##  2439790 DONE example_01  1     2019-12-18 22:03:24 0:00        -         1     -   41Mb   
##  2439791 DONE example_02  1     2019-12-18 22:03:24 0:00        -         1     -   41Mb   
##  2439792 DONE example_03  1     2019-12-18 22:03:25 0:00        -         1     -   41Mb   
##  2499413 DONE example     4     2019-12-20 22:02:50 0:00        -         4     -   7Mb    
##  2499414 DONE example2    4     2019-12-20 22:02:50 0:00        -         1     -   41Mb   
##  2499419 DONE example_1   3     2019-12-20 22:03:32 0:00        -         1     -   37Mb   
##  2499420 DONE example_2   3     2019-12-20 22:03:32 0:00        -         1     -   37Mb   
##  2499421 DONE example_3   3     2019-12-20 22:03:32 0:00        -         1     -   10Mb   
##  2499422 DONE example_4   3     2019-12-20 22:03:32 0:00        -         1     -   10Mb   
##  2499572 DONE example     3     2019-12-20 22:25:21 0:00        -         4     -   12Mb   
##  2499573 DONE example2    3     2019-12-20 22:25:21 0:00        -         1     -   41Mb   
##  2499647 DONE example     2     2019-12-20 22:31:39 0:00        -         4     -   7Mb    
##  2499648 DONE example2    2     2019-12-20 22:31:39 0:00        -         1     -   41Mb   
##  2499659 DONE example_1   2     2019-12-20 22:32:20 0:00        -         1     -   37Mb   
##  2499660 DONE example_2   2     2019-12-20 22:32:21 0:00        -         1     -   6Mb    
##  2499661 DONE example_3   2     2019-12-20 22:32:21 0:00        -         1     -   4Mb    
##  2499662 DONE example_4   2     2019-12-20 22:32:21 0:00        -         1     -   12Mb   
##  2524401 DONE example     1     2019-12-23 21:39:27 0:00        -         4     -   6Mb    
##  2524402 DONE example2    1     2019-12-23 21:39:27 0:00        -         1     -   41Mb   
##  2524403 PEND example_1   1     2019-12-23 21:40:09 -           -         -     -   -      
##  2524404 PEND example_2   1     2019-12-23 21:40:09 -           -         -     -   -      
##  2524405 PEND example_3   1     2019-12-23 21:40:09 -           -         -     -   -      
##  2524406 PEND example_4   1     2019-12-23 21:40:10 -           -         -     -   -      
##  JOBID   STAT JOB_NAME   RECENT SUBMIT_TIME         TIME_PASSED TIME_LEFT SLOTS MEM MAX_MEM
## ─────────────────────────────────────────────────────────────────────────────────────────── 
##  526 DONE jobs, 10 EXIT jobs, 4 PEND jobs within one week.
##  You can have more controls by `bjobs(status = ..., max = ..., filter = ...)`.</code></pre>
<p><code><a href="../reference/brecent.html">brecent()</a></code> returns 20 most recent jobs.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">brecent</a></code></pre></div>
<pre><code>## ────────────────────────────────────────────────────────────────────────────────────────────────────────────── 
##  JOBID   STAT JOB_NAME                             SUBMIT_TIME         TIME_PASSED TIME_LEFT SLOTS MEM MAX_MEM
##  2518591 DONE recount_TCGA_liver_sig_gene_GO       2019-12-22 15:57:16 4:45        -         1     -   4.7Gb  
##  2518592 DONE recount_TCGA_lung_sig_gene_GO        2019-12-22 15:57:16 6:04        -         1     -   4.9Gb  
##  2518593 DONE recount_TCGA_ovary_sig_gene_GO       2019-12-22 15:57:16 4:06        -         1     -   4.6Gb  
##  2518594 DONE recount_TCGA_pancreas_sig_gene_GO    2019-12-22 15:57:17 6:19        -         1     -   3.6Gb  
##  2518595 DONE recount_TCGA_pleura_sig_gene_GO      2019-12-22 15:57:17 7:21        -         1     -   3.1Gb  
##  2518596 DONE recount_TCGA_prostate_sig_gene_GO    2019-12-22 15:57:17 5:21        -         1     -   5.5Gb  
##  2518597 DONE recount_TCGA_skin_sig_gene_GO        2019-12-22 15:57:17 4:00        -         1     -   5Gb    
##  2518598 DONE recount_TCGA_soft_tissue_sig_gene_GO 2019-12-22 15:57:17 7:30        -         1     -   4.3Gb  
##  2518599 DONE recount_TCGA_stomach_sig_gene_GO     2019-12-22 15:57:18 4:42        -         1     -   5Gb    
##  2518600 DONE recount_TCGA_testis_sig_gene_GO      2019-12-22 15:57:18 7:27        -         1     -   3.7Gb  
##  2518601 DONE recount_TCGA_thymus_sig_gene_GO      2019-12-22 15:57:18 4:23        -         1     -   3.4Gb  
##  2518602 DONE recount_TCGA_thyroid_sig_gene_GO     2019-12-22 15:57:18 6:56        -         1     -   5.4Gb  
##  2518603 DONE recount_TCGA_uterus_sig_gene_GO      2019-12-22 15:57:18 5:50        -         1     -   5.4Gb  
##  2524400 DONE R_code_c3481a47                      2019-12-23 21:39:27 0:00        -         1     -   6Mb    
##  2524401 DONE example                              2019-12-23 21:39:27 0:00        -         4     -   6Mb    
##  2524402 DONE example2                             2019-12-23 21:39:27 0:00        -         1     -   41Mb   
##  2524403 PEND example_1                            2019-12-23 21:40:09 -           -         -     -   -      
##  2524404 PEND example_2                            2019-12-23 21:40:09 -           -         -     -   -      
##  2524405 PEND example_3                            2019-12-23 21:40:09 -           -         -     -   -      
##  2524406 PEND example_4                            2019-12-23 21:40:10 -           -         -     -   -      
## ────────────────────────────────────────────────────────────────────────────────────────────────────────────── 
##  526 DONE jobs, 10 EXIT jobs, 4 PEND jobs within one week.
##  You can have more controls by `bjobs(status = ..., max = ..., filter = ...)`.</code></pre>
<p>There are some helper functions which only list running/pending/done/failed jobs:</p>
<ul>
<li><code>bjobs_running</code></li>
<li><code>bjobs_pending</code></li>
<li><code>bjobs_done</code></li>
<li><code>bjobs_exit</code></li>
</ul>
</div>
<div id="other-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#other-functions" class="anchor"></a>Other functions</h2>
<ul>
<li>
<code><a href="../reference/bkill.html">bkill(job_id)</a></code> kills a job or a list jobs.</li>
<li>
<code><a href="../reference/job_log.html">job_log(job_id)</a></code> prints the log of a specified running/finished/failed job. A vector of jobs can also be sent at the same time that last 10 lines of each job are printed.</li>
<li>
<code><a href="../reference/check_dump_files.html">check_dump_files()</a></code> searches the dump files (<code>core.xxx</code> by LSF cluster or <code>.RDataTmpxxx</code> by R).</li>
<li>
<code><a href="../reference/ssh_connect.html">ssh_connect()</a></code> establishes the SSH connection to the submission node if it is lost.</li>
</ul>
</div>
<div id="global-parameters" class="section level2">
<h2 class="hasAnchor">
<a href="#global-parameters" class="anchor"></a>Global Parameters</h2>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">bsub_opt</a></code></pre></div>
<pre><code>##           Option                                    Value
##         packages                                     NULL
##            image                                     NULL
##         temp_dir                     /home/guz/.bsub_temp
##       output_dir                     /home/guz/.bsub_temp
##          enforce                                     TRUE
##        R_version                                    3.6.0
##               wd                                       ""
##           ignore                                    FALSE
##            local                                    FALSE
##     call_Rscript                  a user-defined function
##  submission_node odcf-worker01, odcf-cn34u03s10, odcf....
##       login_node odcf-worker01, odcf-cn34u03s10, odcf....
##          sh_head                                       ""
##             user                                      guz
##            group                                     NULL
##        ssh_envir source /etc/profile, export LSF_ENVD....
##    bsub_template                  a user-defined function
##       parse_time                                     NULL
##          verbose                                    FALSE</code></pre>
</div>
<div id="interactive-job-monitor" class="section level2">
<h2 class="hasAnchor">
<a href="#interactive-job-monitor" class="anchor"></a>Interactive job monitor</h2>
<p>Simply running <code><a href="../reference/monitor.html">monitor()</a></code> opens a shiny app where you can query and manage jobs.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw"><a href="../reference/monitor.html">monitor</a></span>()</a></code></pre></div>
<p>Following are examples of the job monitor.</p>
<p>The job summary table:</p>
<p>
<img width="907" alt="monitor" src="https://user-images.githubusercontent.com/449218/71278574-40d4bf00-2358-11ea-9849-339aeb324601.png"></p>
<p>Job log:</p>
<p>
<img width="905" alt="job_log" src="https://user-images.githubusercontent.com/449218/71278573-403c2880-2358-11ea-8c82-c99677c0ebb0.png"></p>
<p>Job dependency tree:</p>
<p>
<img width="895" alt="dependency_tree" src="https://user-images.githubusercontent.com/449218/71278571-403c2880-2358-11ea-8e05-69c064148b2d.png"></p>
<p>Kill jobs:</p>
<p>
<img width="895" alt="kill_jobs" src="https://user-images.githubusercontent.com/449218/71323523-8ddda000-24d4-11ea-8fd3-350cbe93763c.png"></p>
</div>
<div id="session-info" class="section level2">
<h2 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session Info</h2>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span>()</a></code></pre></div>
<pre><code>## R version 3.6.0 (2019-04-26)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: CentOS Linux 7 (Core)
## 
## Matrix products: default
## BLAS:   /usr/lib64/libblas.so.3.4.2
## LAPACK: /usr/lib64/liblapack.so.3.4.2
## 
## locale:
##  [1] LC_CTYPE=en_GB.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_GB.UTF-8        LC_COLLATE=en_GB.UTF-8    
##  [5] LC_MONETARY=en_GB.UTF-8    LC_MESSAGES=en_GB.UTF-8   
##  [7] LC_PAPER=en_GB.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_GB.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] GetoptLong_0.1.7 bsub_0.99.0     
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.3          knitr_1.26          magrittr_1.5       
##  [4] MASS_7.3-51.4       rjson_0.2.20        R6_2.4.1           
##  [7] rlang_0.4.2         stringr_1.4.0       tools_3.6.0        
## [10] xfun_0.11           htmltools_0.4.0     yaml_2.2.0         
## [13] assertthat_0.2.1    digest_0.6.23       rprojroot_1.3-2    
## [16] pkgdown_1.4.1       crayon_1.3.4        fs_1.3.1           
## [19] GlobalOptions_0.1.1 clisymbols_1.2.0    memoise_1.1.0      
## [22] evaluate_0.14       rmarkdown_1.18      stringi_1.4.3      
## [25] compiler_3.6.0      desc_1.2.0          backports_1.1.5</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#send-r-code">Send R code</a></li>
      <li><a href="#send-r-script">Send R script</a></li>
      <li><a href="#send-other-shell-commands">Send other shell commands</a></li>
      <li><a href="#job-summary">Job Summary</a></li>
      <li><a href="#other-functions">Other functions</a></li>
      <li><a href="#global-parameters">Global Parameters</a></li>
      <li><a href="#interactive-job-monitor">Interactive job monitor</a></li>
      <li><a href="#session-info">Session Info</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Zuguang Gu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
